# 起動

docker-compose up api

# api

twitch_api_projectからの移植

# 権限系のまとめ

- ECS上で動かすのでredisとかでセッション管理する必要あり
- Roleと権限は別（Roleはできること、権限は見れる範囲）
    - とりあえず権限設定といいつつ、Role設定画面にする。ゆくゆくはどの案件を見れるかとかになる為。

## やること

- 管理者(フルアクセス)
- マネージャー()
- 閲覧者(編集不可)
- 作業者(一部編集可能)

## 作業メモ

- 一旦ログインは作った
- API側のみRoleでの制限をかけた
    - UI側で制御をミスってたらアラートで気づけるはず
- UI側の制御をまとめる
    - UserInfoをGlobalStateに入れる。画面遷移ごとに更新。
    - ユーザー編集にRoleを追加する
        - 管理者
            - 今まで通り制限無
        - 作業者
            - マスタ系の更新NG
            - チケットの進捗のみ更新可能
        - マネージャー
            - 制限なし？
        - 閲覧者
            - マスタ系の更新NG
            - チケットの更新NG

terraform化にも影響あり作業だった。redis（Elastic cacheを使う）

## その他目標

7日中までにログインと権限制御を終わらせる。って今日がその7やないかーい
→とりあえずRoleの実装は終わった。権限設定は一旦相談する。一旦遊び&休憩して夕方くらいに起きてやること整理する。

8日はやりたいことのバグ消化系にする。

残り32h やること決めてく。

## とりあえずできるのだけやってやった感を出す。

#116 リフレッシュボタンの作成（簡単） Done
#120 案件登録時に本体のユニットをデフォルトで登録する（これは簡単）Done
#060 担当者をclick on close（簡単）

## お尻からの奴はなんか重要そうだから頑張ってやる。

#107 案件登録時にお尻から並べる
#113 日付でのリスケの挙動変更（これも時間かかりそう）

## ベストエフォート

#109 バグ(よくわからんし時間かかりそう)
#118 出荷期日の追加（今日はもう現実的ではないかも）
#094 担当者削除をダブルクリック（難しそう）
・遅延通知ウィンドウ化
・絞り込みはクリアボタンを作る
・虫眼鏡マークとかで検索できることを強調する

## よくわからんもの

#123 対応外
#010 閲覧権限（これはRoleの相談で終わらせる）
#011 遅延通知でOKでは？

TODO: 全体ビューでマイルストーン、全体ビューを設置させる。案件ビューは完了した。